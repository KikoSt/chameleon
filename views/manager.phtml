<?php
    include('navigation.inc.php');

    if(!is_object($this->elements) || count($this->elements) === 0):
?>
    <p class="notification"><?php echo $this->message; ?></p>
<?php
    else:
?>
<div class="container margin-left-150">
    <div id="managerView">
        <?php
        $section = 'Company';
        include('partials/manager/companylist.phtml');
        $section = 'Advertiser';
        include('partials/manager/advertiserlist.phtml');
        $section = 'Categories';
        include('partials/manager/categorylist.phtml');
        $section = 'Active filters';
        include('partials/manager/filterlist.phtml');
        $section = 'Apply filter';
        include('partials/manager/applyFilter.phtml');
        ?>

        <!-- display templates -->

        <?php
        $tcount = 0;
        foreach($this->elements as $key => $element)
        {
            //right now, the iterator may also return FALSE.
            // TODO: change the iterator to prevent this kind of logic
            //       here in the template!!!
            //if(!is_null($element))
            //{
                $tcount++;
                include('partials/manager/template.phtml');
            // }
        }
        if($tcount === 0)
        {
            echo '<b>No templates found! Please check your input and filter settings!</b>';
        }
        endif;
    ?>

    <input type="hidden" id="advertiserId" name="advertiserId" value="<?php echo $this->advertiserId; ?>">
    <input type="hidden" id="companyId"    name="companyId" value="<?php echo $this->companyId; ?>">
    </div>
</div>

<script type="text/JavaScript" src="js/manager.js"></script>
